{% extends 'base.html' %}

{% block title %}NEBULA - Junior Coding Community{% endblock %}

{% block head %}
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" as="image" href="{{ url_for('static', filename='images/desktop-logo.webp') }}" type="image/webp">
  <link href="{{ url_for('static', filename='css/merchandise.css') }}" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" media="print" onload="this.media='all'">
{% endblock %}

{% block content %}
<div class="grid-container">
  <main>
    <div class="product-grid">
      {% for product in products %}
      <div class="product">
        <div class="product-top">
          <picture>
            <source media="(max-width: 460px)" srcset="{{ url_for('static', filename=product.image_url.replace('desktop', 'mobile')) }}">
            <img
              src="{{ url_for('static', filename=product.image_url) }}"
              srcset="{{ url_for('static', filename=product.image_url) }} 660w, {{ url_for('static', filename=product.image_url.replace('.webp', '@2x.webp')) }} 1320w"
              sizes="(max-width: 460px) 100vw, (max-width: 1024px) 50vw, 250px"
              width="660" height="660"
              alt="{{ product.name }}"
              class="product-image"
            >
          </picture>
          <h2 class="product-title">{{ product.name }}</h2>
          <p class="product-price">â‚¬{{ product.price }}</p>
        </div>
        <button type="button" class="add-to-cart-btn">Add to Cart</button>
      </div>
      {% endfor %}
    </div>
  </main>
</div>
{% endblock %}

{% block scripts %}
  <script src="{{ url_for('static', filename='javascript/merchandise.js') }}"></script>
{% endblock %}